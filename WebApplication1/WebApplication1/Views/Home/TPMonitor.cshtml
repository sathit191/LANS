@model IEnumerable<WebApplication1.Models.TPSetup>

@{
    ViewBag.Title = "TPMonitor";
}

    <h2>TP SCHEDULER</h2>

@*<p>
        @Html.ActionLink("Create New", "Create")
    </p>*@
<div class="row">
    <div class="col-md-10">
        <table id="myTable" class="table table-striped table-condensed table-bordered ">
            <thead class=" text-center">
                <tr>
                    <th  class=" text-center" rowspan="2" style="width : 80px; vertical-align : middle;">PKG</th>
                    <th class=" text-center" rowspan="2" style=" vertical-align : middle;">
                        @Html.DisplayNameFor(model => model.MCNo)
                    </th>
                    <th class=" text-center" rowspan="2" style=" vertical-align : middle;">
                        @Html.DisplayNameFor(model => model.MCType)
                    </th>
                    <th  colspan="2" style=" vertical-align : middle;">Special Parts</th>
                    <th  colspan="2" style=" vertical-align : middle;">Tape</th>
                    <th  rowspan="2" style=" vertical-align : middle;">Pecipe</th>
                    <th  rowspan="2" style=" vertical-align : middle;">Status</th>
                    <th  colspan="2" style=" vertical-align : middle;">Production</th>
                    <th  colspan="2" style=" vertical-align : middle;">2nd Lot</th>
                    <th style=" vertical-align : middle;">3rd Lot</th>
                    <th style=" vertical-align : middle;">4th Lot</th>
                    <th style=" vertical-align : middle;">5th Lot</th>
                    <th style=" vertical-align : middle;">6th Lot</th>

                    @*<th></th>*@
                </tr>
                <tr>
                    <th style=" vertical-align : middle;">Kote</th>
                    <th style=" vertical-align : middle;">Colette</th>
                    <th style=" vertical-align : middle;">Emboss</th>
                    <th style=" vertical-align : middle;">Cover</th>
                    <th style=" vertical-align : middle;">Lot card</th>
                    <th style=" vertical-align : middle;">END</th>
                    <th style=" vertical-align : middle;">Lot card</th>
                    <th style=" vertical-align : middle;">R-No</th>
                    <th style=" vertical-align : middle;">Lot card</th>
                    @*<th>R-No</th>*@
                    <th style=" vertical-align : middle;">Lot card</th>
                    @*<th>R-No</th>*@
                    <th style=" vertical-align : middle;">Lot card</th>
                    @*<th>R-No</th>*@
                    <th style=" vertical-align : middle;">Lot card</th>
                    @*<th>R-No</th>*@
                </tr>
            </thead>
            <tbody class=" text-center">
                @foreach (var item in (List<WebApplication1.Models.TPSetup>)ViewBag.TPSetup)
                {
                <tr>
                    <td style="width : 100px;"> @item.PKGName</td>
                    <td style="width : 80px;">
                        @Html.DisplayFor(modelItem => item.MCNo)
                    </td>

                    <td>
                        @Html.DisplayFor(modelItem => item.MCType)
                    </td>
                    <td></td>
                    <td></td>
                    <td></td>
                    <td></td>
                    <td></td>
                    @switch (item.Status)
                    {
                        case WebApplication1.Models.TPSetup.State.Wait:

                            <td class=" text-center" style=" color: black; font : bold; vertical-align : middle; width : 15px;">
                                @Html.DisplayFor(modelItem => item.Status) @*<br />@item.WipCountup*@
                            </td>
                            break;
                        case WebApplication1.Models.TPSetup.State.Run:
                            <td class=" text-center" style=" color: black; font : bold; vertical-align : middle; width : 15px;">

                                @Html.DisplayFor(modelItem => item.Status)@*<p style="font-size:smaller;"><br />@item.countDown</p>*@
                            </td>
                            break;
                        case WebApplication1.Models.TPSetup.State.Ready:
                            <td class=" text-center" style=" color: black; font : bold; vertical-align : middle; width : 15px;">
                                @Html.DisplayFor(modelItem => item.Status)
                            </td>
                            break;
                        case WebApplication1.Models.TPSetup.State.Setup:
                            <td class=" text-center" style=" color: black; font : bold; vertical-align : middle; width : 15px;">
                                @Html.DisplayFor(modelItem => item.Status)
                            </td>
                            break;
                        default:
                            <td rowspan="2"></td>
                            break;
                    }
                    <td>@item.Production_LotNo<p style="font-size : 10px;">@item.Production_LotDevice</p></td>
                    <td></td>
                    @*@for (int i = 0; i < 4; i++)
        {
            @if (item.LotQueue[i].LotNo != "")
            {
                <td>@item.LotQueue[i].LotNo<p style="font-size : 10px;">@item.LotQueue[i].DeviceName</p></td>
                <td></td>
            }

        }*@
                    <td>@item.LotQueue[0].LotNo<p style="font-size : 10px;">@item.LotQueue[0].DeviceName</p></td>
                    <td></td>
                    <td>@item.LotQueue[1].LotNo<p style="font-size : 10px;">@item.LotQueue[1].DeviceName</p></td>

                    <td>@item.LotQueue[2].LotNo<p style="font-size : 10px;">@item.LotQueue[2].DeviceName</p></td>

                    <td>@item.LotQueue[3].LotNo<p style="font-size : 10px;">@item.LotQueue[3].DeviceName</p></td>

                    <td>@item.LotQueue[4].LotNo<p style="font-size : 10px;">@item.LotQueue[4].DeviceName</p></td>


                    @*<td>
            @Html.ActionLink("Edit", "Edit", new { /* id=item.PrimaryKey */ }) |
            @Html.ActionLink("Details", "Details", new { /* id=item.PrimaryKey */ }) |
            @Html.ActionLink("Delete", "Delete", new { /* id=item.PrimaryKey */ })
        </td>*@
                </tr>
                }
            </tbody>
        </table>
    </div>
        
</div>
   
<div class="row">
    <div class="col-lg-4">
        <h3>SSOP-B20W</h3>
        <table id="#SubTable" class="table table-striped table-condensed table-bordered">
            <thead>
                <tr>
                    @*<th class="text-center" rowspan="2"></th>*@
                    <th class="text-center" rowspan="2">Decvice</th>
                    <th class="text-center" rowspan="2">QA<br />(Lots.)</th>
                    <th class="text-center" rowspan="2">TP<br />(Lots.)</th>
                    <th class="text-center" rowspan="2">RunTime<br />(Hour.) </th>
                    <th class="text-center" colspan="3">OutPut</th>
                </tr>
                <tr>
                    <th>Plan</th>
                    <th>Result</th>
                    <th>+/-</th>
                </tr>
            </thead>
            <tbody>
                @foreach (var item in (List<WebApplication1.Models.Calculate_TP>)ViewBag.AccuB20W)
                {
                <tr>
                    @*<td>@item.PKGName</td>*@
                    <td style="width : 180px; vertical-align : middle;" class="text-center">@item.DeviceName</td>
                    <td style="vertical-align : middle;" class="text-center">@item.QALot</td>
                    <td style="vertical-align : middle;" class="text-center">@item.TPLot</td>
                    <td style="vertical-align : middle;" class="text-center">@item.SumRunTime</td>
                    <td style="vertical-align : middle;" class="text-center">Y @item.Plan_yesterday.ToString("n0")<br />T @item.Plan_today.ToString("n0")</td>
                    <td style="vertical-align : middle;" class="text-center">Y @item.Result_yesterday.ToString("n0")<br />T @item.Result_today.ToString("n0")</td>
                    <td style="vertical-align : middle;" class="text-center">@item.Calulate_yesterday.ToString("n0")<br />@item.Calulate_today.ToString("n0")</td>
                </tr>
                }
            </tbody>
        </table>
    </div>
    <div class="col-lg-4">
        <h3>SSOP-B28W</h3>
        <table  class="table table-striped table-condensed table-bordered">
            <thead>
                <tr>
                    @*<th class="text-center" rowspan="2"></th>*@
                    <th class="text-center" rowspan="2">Decvice</th>
                    <th class="text-center" rowspan="2">QA<br />(Lots.)</th>
                    <th class="text-center" rowspan="2">TP<br />(Lots.)</th>
                    <th class="text-center" rowspan="2">RunTime<br />(Hour.) </th>
                    <th class="text-center" colspan="3">OutPut</th>
                </tr>
                <tr>
                    <th>Plan</th>
                    <th>Result</th>
                    <th>+/-</th>
                </tr>
            </thead>
            <tbody>
                @foreach (var item in (List<WebApplication1.Models.Calculate_TP>)ViewBag.AccuB28W)
                {
                    <tr>
                        @*<td>@item.PKGName</td>*@
                        <td style="width : 180px; vertical-align : middle;" class="text-center">@item.DeviceName</td>
                        <td style="vertical-align : middle;" class="text-center">@item.QALot</td>
                        <td style="vertical-align : middle;" class="text-center">@item.TPLot</td>
                        <td style="vertical-align : middle;" class="text-center">@item.SumRunTime</td>
                        <td style="vertical-align : middle;" class="text-center">Y @item.Plan_yesterday.ToString("n0")<br />T @item.Plan_today.ToString("n0")</td>
                        <td style="vertical-align : middle;" class="text-center">Y @item.Result_yesterday.ToString("n0")<br />T @item.Result_today.ToString("n0")</td>
                        <td style="vertical-align : middle;" class="text-center">@item.Calulate_yesterday.ToString("n0")<br />@item.Calulate_today.ToString("n0")</td>
                    </tr>
                }
            </tbody>
        </table>
    </div>
</div>



<link href="~/Scripts/bootstrap.min.css" rel="stylesheet" />
<link href="~/Scripts/dataTables.bootstrap.min.css" rel="stylesheet" />
<link href="~/Content/select2.min.css" rel="stylesheet" />
<link href="~/Scripts/datatable/dataTables.bootstrap.css" rel="stylesheet" />
<link href="~/Content/toggle/bootstrap4-toggle.min.css" rel="stylesheet" />
@section Scripts
{
    <script src="~/Scripts/datatables.min.js"></script>
    <script src="~/Scripts/select2.min.js"></script>
    <script src="~/Scripts/toggle/bootstrap4-toggle.min.js"></script>
    <script src="~/Scripts/highcharts.js"></script>
    <script src="~/Scripts/exporting.js"></script>
    <script src="~/Scripts/export-data.js"></script>

    <script>
        $(document).ready(function () {
                $('#myTable').DataTable({
                    "ordering": true,
                    //"order": [[ 5, "asc" ]],
                    "pageLength": 50,
                    "filter": true,
                    "bFilter": false,
                    "bLengthChange": false,
                    "scrollCollapse": true,
                    "scrollY": "800px",
                    "scrollX": true,
                });

            $('#SubTable').DataTable({
                "ordering": true,
                "pageLength": 10,
                "filter": false,
                "bFilter": false,
                "bLengthChange": false,
               // "scrollCollapse": true,
                "scrollY": "350px",
                "scrollX": true,
            });

            $('#SubTable2').DataTable({
                "ordering": true,
                "pageLength": 10,
                "filter": true,
                "bFilter": false,
                "bLengthChange": false,
                //"scrollCollapse": true,
                "scrollY": "300px",
                "scrollX": true,
            });
        });
    </script>
}