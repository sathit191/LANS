@model IEnumerable<WebApplication1.Models.FTSetup>

@{
    ViewBag.Title = "FT Scheduler";
}
<link href="~/Content/Site.css" rel="stylesheet" />
<script src="~/Scripts/Chart.min.js"></script>
<script src="~/Scripts/Chart.js"></script>
<style>
    table tr:not([class="OfflineStep"]):not([class="FurtherStep"]):hover td,
    table tr:not([class="OfflineStep"]):not([class="FurtherStep"]):hover td a {
        color: white;
        font: bold;
        background-color: lightblue !important; /**/
    }

    .col-md-1 {
        margin-top: 10px;
    }

    a.my-class {
        color: black;
    }

    a.btn {
        background-image: url(../../LANS/Images/Untitled-1.png); /*~/Images/Untitled-1.png'*/
        display: block;
        background-repeat: no-repeat;
        background-size: 50px,50px;
        width: 50px;
        height: 50px;
        text-indent: -9999px;
    }

    a.textinvisible {
        color: transparent
    }

    .td {
        text-align: center;
        color: red;
    }

    .H2 {
        font-family: 'Kanit', sans-serif;
        color: goldenrod;
    }

    .A1 {
        color: #7cb5ec;
        font: bold;
    }

    .A2 {
        color: #434348;
        font: bold;
    }

    .A3 {
        color: #90ed7d;
        font: bold;
    }

    .A4 {
        color: #f7a35c;
        font: bold;
    }

    .A5 {
        color: #8085E9;
        font: bold;
    }

    .A6 {
        color: #f15c80;
        font: bold;
    }

    .A7 {
        color: #E4D354;
        font: bold;
    }

    .A8 {
        color: #2B908F;
        font: bold;
    }

    .A9 {
        color: #F45B5B;
        font: bold;
    }

    .A10 {
        color: #91E8E1;
        font: bold;
    }

    .TypeChange {
        color: red;
        font: bold;
    }
</style>

<div class="container-fluid">
    <div class="row">
        <div class="col-md-11"><h1>FT SCHEDULER</h1></div>
        <div class="col-md-1" style=" text-align : left;">
            @Html.ActionLink("x", "#", "#",
                                                        new
                                                             {
                                                                 @class = "btn sendOprateGroup",
                                                                 @data_toggle = "modal",
                                                                 @data_target = "#OpRateSet",
                                                                 @data_groupid = 1
                                                             })
        </div>
    </div>

    <div class="row">
        <div class="col-md-8">
            @*@Html.ActionLink("xxxxx", "#", "#",
                new
                     {
                         @class = "btn sendOprateGroup",
                         @data_toggle = "modal",
                         @data_target = "#OpRateSet",
                         @data_groupid = 1
                     })*@
            <table id="iTable" class="table table-striped table-condensed table-bordered">
                <thead>
                    <tr>
                        @*<th class=" text-center" style=" vertical-align : middle; background-color :#8dcffd;" rowspan="2">PKG</th>*@
                        <th class=" text-center" style=" vertical-align : middle; background-color :#8dcffd;" rowspan="2">MC_No.</th>
                        <th class=" text-center" style=" vertical-align : middle; background-color :#8dcffd;" rowspan="2">Tester</th>
                        <th class=" text-center" style=" vertical-align : middle; background-color :#FFBE7D;" rowspan="2">Board</th>
                        <th class=" text-center" style=" vertical-align : middle; background-color :#FFBE7D;" rowspan="2">Program</th>
                        @*<th class=" text-center" style=" vertical-align : middle; background-color :#FFBE7D;" rowspan="2">Temp.(°C)</th>*@
                        <th class=" text-center" style=" vertical-align : middle; background-color :#FFBE7D;" rowspan="2">DUT</th>
                        <th class=" text-center" style=" vertical-align : middle; background-color :#FFBE7D;" rowspan="2">Flow</th>
                        @*<th class=" text-center" style=" vertical-align : middle; background-color :#FFBE7D;" colspan="2">Option</th>*@
                        <th class=" text-center" style=" vertical-align : middle; background-color :#8e84ce;" rowspan="2">Status</th>
                        <th class=" text-center" style=" vertical-align : middle; background-color :#96d677;" colspan="2">Production</th>
                        <th class=" text-center" style=" vertical-align : middle; background-color :#96d677;" colspan="2">2nd Lot</th>
                        <th class=" text-center" style=" vertical-align : middle; background-color :#96d677;" colspan="1">3rd Lot</th>
                        <th class=" text-center" style=" vertical-align : middle; background-color :#96d677;" colspan="1">4th Lot</th>
                        <th class=" text-center" style=" vertical-align : middle; background-color :#96d677;" colspan="1">5th Lot</th>

                    </tr>
                    <tr>
                        @*<th class=" text-center" style="font-size : 20px; vertical-align : middle; background-color :#FFBE7D;">➀</th>
                            <th class=" text-center" style="font-size : 20px; vertical-align : middle; background-color :#FFBE7D;">➁</th>*@
                        <th class=" text-center" style=" vertical-align : middle; background-color :#96d677;">Lot_Card</th>
                        <th class=" text-center" style=" vertical-align : middle; background-color :#96d677;">END</th>
                        <th class=" text-center" style=" vertical-align : middle; background-color :#96d677;">Lot_Card</th>
                        <th class=" text-center" style=" vertical-align : middle; background-color :#96d677;">R_No</th>
                        <th class=" text-center" style=" vertical-align : middle; background-color :#96d677;">Lot_Card</th>
                        <th class=" text-center" style=" vertical-align : middle; background-color :#96d677;">Lot_Card</th>
                        <th class=" text-center" style=" vertical-align : middle; background-color :#96d677;">Lot_Card</th>
                        @*<th class=" text-center" style=" vertical-align : middle; background-color :#96d677;">Lot_Card</th>
                            <th class=" text-center" style=" vertical-align : middle; background-color :#96d677;">Lot_Card</th>
                            <th class=" text-center" style=" vertical-align : middle; background-color :#96d677;">Lot_Card</th>
                            <th class=" text-center" style=" vertical-align : middle; background-color :#96d677;">Lot_Card</th>
                            <th class=" text-center" style=" vertical-align : middle; background-color :#96d677;">Lot_Card</th>*@
                    </tr>
                </thead>
                <tbody>
                    @foreach (var item in (List<WebApplication1.Models.FTSetup>)ViewBag.ftSetup)
                    {
                    <tr style="height :30px">
                        @*<td class="text-center PKName" style="vertical-align : middle; width : 120px;">
            <span>@Html.DisplayFor(modelItem => item.PKName)</span>
        </td>*@
                        <td class="text-center MCNo" style="vertical-align : middle; width : 120px;">

                            <b>
                                @Html.ActionLink(item.MCNo, "#", "#",
                                                new
                                                     {
                                                         @class = "my-class sendOprate",
                                                         @data_toggle = "modal",
                                                         @data_target = "#OpRateModal",
                                                         @data_mcid = item.McId
                                                     })
                            </b>

                            @*<b>@Html.DisplayFor(modelItem => item.MCNo)</b>*@
                        </td>
                        <td class="text-center" style="vertical-align : middle; width : 125px;">
                            @Html.DisplayFor(modelItem => item.TesterType)
                        </td>
                        <td class="text-center" style="font-size:10px; vertical-align : middle; width : 25px;">
                            @Html.DisplayFor(modelItem => item.TestBord)
                        </td>
                        <td class="text-center" style="font-size : 10px; vertical-align : middle; width : 25px;">
                            @Html.DisplayFor(modelItem => item.TestProgram)
                        </td>

                        @*@switch (item.Flow)
        {
            case "AUTO1":
                <td class=" text-center" style="font-size:smaller; color : cadetblue; font : bold; vertical-align : middle; width : 25px;">
                    -40
                </td>
                break;
            case "AUTO2":
                <td class=" text-center" style="font-size:smaller; color : orangered; font : bold; vertical-align : middle; width : 25px;">
                    125
                </td>
                break;
            case "AUTO3":
                <td class=" text-center " style="font-size:smaller;vertical-align : middle; width : 25px;">
                    25
                </td>
                break;
            case "AUTO4":

                <td class=" text-center" style="font-size:smaller;  font : bold; vertical-align : middle; width : 25px;">
                    25
                </td>
                break;
            default:
                <td></td>
                break;
        }*@
                        <td class="text-center" style=" font-size:smaller; vertical-align : middle; width : 20px;">
                            @Html.DisplayFor(modelItem => item.DutName)
                        </td>
                        @switch (item.Flow)
                        {
                            case "AUTO1":
                                <td class="text-center" style="font-size:smaller; vertical-align : middle; width : 25px; color: #E4D354;">
                                    <b>@Html.DisplayFor(modelItem => item.Flow)</b>
                                </td>
                                break;
                            case "AUTO2":
                                <td class="text-center" style="font-size:smaller; vertical-align : middle; width : 25px; color: #F6ABAB;">
                                    <b>@Html.DisplayFor(modelItem => item.Flow)</b>
                                </td>
                                break;
                            case "AUTO3":
                                <td class="text-center" style="font-size:smaller; vertical-align : middle; width : 25px; color: #8dcffd;">
                                    <b>@Html.DisplayFor(modelItem => item.Flow)</b>
                                </td>
                                break;
                            case "AUTO4":
                                <td class="text-center" style="font-size:smaller; vertical-align : middle; width : 25px; color: #96d677;">
                                    <b>@Html.DisplayFor(modelItem => item.Flow)</b>
                                </td>
                                break;

                            default:
                                <td></td>
                                break;
                        }
                        @*<td class="text-center" style="font-size:smaller; vertical-align : middle; width : 25px; color: #8dcffd;">
            <b>@Html.DisplayFor(modelItem => item.Flow)</b>
        </td>*@
                        @*<td class=" text-center" style="font-size : smaller; vertical-align : middle; width : 10px;">
            @Html.DisplayFor(modelItem => item.Option1)
        </td>
        <td class=" text-center" style="font-size : smaller; vertical-align : middle; width : 10px;">
            @Html.DisplayFor(modelItem => item.Option2)
        </td>*@

                        @switch (item.Status)
                        {
                            case WebApplication1.Models.FTSetup.State.Wait:

                                <td class=" text-center" style="background-color : yellow; color: black; font : bold; vertical-align : middle; width : 15px;">
                                    @Html.DisplayFor(modelItem => item.Status) <br />@item.WipCountup
                                </td>
                                break;
                            case WebApplication1.Models.FTSetup.State.Run:
                                <td class=" text-center" style="background-color : aquamarine ; color: black; font : bold; vertical-align : middle; width : 15px;">

                                    @Html.DisplayFor(modelItem => item.Status)@*<p style="font-size:smaller;">*@<br />@item.countDown@*</p>*@
                                </td>
                                break;
                            case WebApplication1.Models.FTSetup.State.Ready:
                                <td class=" text-center" style="background-color : aquamarine ; color: black; font : bold; vertical-align : middle; width : 15px;">
                                    @Html.DisplayFor(modelItem => item.Status)
                                </td>
                                break;
                            case WebApplication1.Models.FTSetup.State.Setup:
                                <td class=" text-center" style="background-color : cornflowerblue; color: black; font : bold; vertical-align : middle; width : 15px;">
                                    @Html.DisplayFor(modelItem => item.Status)
                                </td>
                                break;
                            case WebApplication1.Models.FTSetup.State.Limit:
                                <td class=" text-center" style="background-color : #CD5C5C; color: black; font : bold; vertical-align : middle; width : 15px;">
                                    @Html.DisplayFor(modelItem => item.Status)
                                </td>
                                break;
                            case WebApplication1.Models.FTSetup.State.BM:
                                <td class=" text-center" style="background-color : red; color: black; font : bold; vertical-align : middle; width : 15px;">
                                    @Html.DisplayFor(modelItem => item.Status)
                                </td>
                                break;
                            case WebApplication1.Models.FTSetup.State.PM:
                                <td class=" text-center" style="background-color : orange ; color: black; font : bold; vertical-align : middle; width : 15px;">
                                    @Html.DisplayFor(modelItem => item.Status)
                                </td>
                                break;
                            default:
                                <td rowspan="2"></td>
                                break;
                        }
                        @if (item.Production_DelayLot == "0")
                        {
                            <td class="text-center" style="font-size:smaller; vertical-align : middle; width : 80px;">@Html.DisplayFor(modelItem => item.Production_LotNo)<br /><p class="@Html.DisplayFor(modelItem => item.Mc_Color)" style="font-size:10px;"><b>@Html.DisplayFor(modelItem => item.Production_LotDevice)</b></p></td>
                        }
                        else
                        {
                            <td class="text-center" style="background-color : mediumpurple; font-size:smaller; vertical-align : middle; width : 80px;">@Html.DisplayFor(modelItem => item.Production_LotNo)<br /><p class="@Html.DisplayFor(modelItem => item.Mc_Color)" style="font-size:10px;"><b>@Html.DisplayFor(modelItem => item.Production_LotDevice)</b></p></td>
                        }
                        @if (DateTime.Now > item.Production_Date)
                        {
                            <td class="text-center" style=" background-color : #ED94D3; font-size:smaller;font : bold; vertical-align : middle; width : 50px;">
                                @Html.DisplayFor(modelItem => item.Production_Date)<br />
                                @Html.DisplayFor(modelItem => item.Production_Time)
                            </td>
                        }
                        else
                        {
                            <td class="text-center" style="font-size:smaller; vertical-align : middle; width : 50px;">
                                @Html.DisplayFor(modelItem => item.Production_Date)<br />
                                @Html.DisplayFor(modelItem => item.Production_Time)
                            </td>
                        }
                        @for (int i = 0; i < 4; i++)
                        {
                            if (item.LotQueue[i].Lot_no != "")
                            {
                                if (item.LotQueue[i].Lot_no == "Set Type Change")
                                {
                                    <td class="text-center DeviceName1" style="font-size:smaller;  vertical-align : middle; width : 80px; color : whitesmoke;">
                                        @Html.ActionLink(item.LotQueue[i].Lot_no, "#", "#",
                                               new { @class = "textinvisible sendData", @data_toggle = "modal", @data_target = "#exampleModal", @data_mcno = item.MCNo, @data_mcid = item.McId, @data_device = item.DeviceName, @data_sequence = i + 2 })
                                        <p class="@Html.DisplayFor(modelItem => item.LotQueue[i].S_Color)" style="font-size:10px;">
                                            <b>@Html.DisplayFor(modelItem => item.LotQueue[i].FTDevice)</b>
                                        </p>
                                    </td>
                                }
                                else if (item.LotQueue[i].Lot_no == "Type Change")
                                {
                                    <td class="text-center DeviceName1" style="font-size:smaller;  vertical-align : middle; width : 80px; color : whitesmoke; background-color : #009000;">
                                        @Html.ActionLink(item.LotQueue[i].Lot_no, "#", "#",
                                                new { @class = "my-class sendData", @data_toggle = "modal", @data_target = "#exampleModal", @data_mcno = item.MCNo, @data_mcid = item.McId, @data_device = item.DeviceName, @data_sequence = i + 2 })
                                        <p style="font-size:10px; color : white;">
                                            <b>@Html.DisplayFor(modelItem => item.LotQueue[i].FTDevice)</b>
                                        </p>
                                    </td>
                                }
                                else
                                {
                                    <td class="text-center DeviceName1" style="font-size:smaller;  vertical-align : middle; width : 80px; color : whitesmoke;">
                                        @Html.ActionLink(item.LotQueue[i].Lot_no, "#", "#",
                                                new { @class = "my-class sendData", @data_toggle = "modal", @data_target = "#exampleModal", @data_mcno = item.MCNo, @data_mcid = item.McId, @data_device = item.DeviceName, @data_sequence = i + 2 })
                                        <p class="@Html.DisplayFor(modelItem => item.LotQueue[i].S_Color)" style="font-size:10px;">
                                            <b>@Html.DisplayFor(modelItem => item.LotQueue[i].FTDevice)</b>
                                        </p>
                                    </td>
                                }

                                if (i == 0)
                                {
                                    <td></td>
                                }
                            }
                            else
                            {
                                <td></td>
                            }
                        }
                    </tr>
                    }
                </tbody>
            </table>
        </div>
        <div class="col-md-4" style="vertical-align :central;">

            <ul class="nav nav-tabs ">
                <li class="nav-item">
                    <a class="nav-link active" href="#Hour">Hour.</a>
                </li>
                <li class="nav-item">
                    <a class="nav-link"  href="#Lots">Lots.</a>
                </li>
                <li class="nav-item">
                    <a class="nav-link" href="#Kpcs">Kpcs.</a>
                </li>
            </ul>
            <div class="tab-content border ">
                <div id="Hour" class="tab-pane active">
                    <div id="HourChart"></div>
                    
                </div>
                <div id="Lots" class="tab-pane ">
                    <div id="container"></div>
                    
                </div>
                <div id="Kpcs" class="tab-pane ">
                    <div id="container2"></div>
                </div>
            </div>

            <div>
                <table id="WIPTable" class="table table-striped table-condensed table-bordered">
                    <thead>
                        <tr>
                            @*<th class="text-center" style=" vertical-align : middle; width : 120px; " rowspan="2">PKG</th>*@
                            <th class="text-center" style=" vertical-align : middle; width : 200px; background-color : #ABF6E8;" rowspan="2">Device</th>
                            <th class="text-center" style=" vertical-align : middle;  background-color : #BAF6AB;" rowspan="2">FL<br />00.0H</th>
                            <th class="text-center" style=" vertical-align : middle;  background-color : #BAF6AB;" rowspan="2">A1<br />48.9H</th>
                            <th class="text-center" style=" vertical-align : middle;  background-color : #BAF6AB;" rowspan="2">A2<br />62.4H</th>
                            <th class="text-center" style=" vertical-align : middle;  background-color : #BAF6AB;" rowspan="2">A3<br />72.9H</th>
                            <th class="text-center" style=" vertical-align : middle;  background-color : #BAF6AB;" rowspan="2">A4<br />97.2H</th>

                            <th class="text-center" style=" vertical-align : middle;  background-color : cornflowerblue;" colspan="3">@DateTime.Now.ToString("MMM").ToUpper()   Output(Kpcs.)</th>
                        </tr>
                        <tr>
                            <th class="text-center" style=" vertical-align : middle;  background-color : cornflowerblue;">Plan</th>
                            <th class="text-center" style=" vertical-align : middle;  background-color : cornflowerblue;">Result</th>
                            <th class="text-center" style=" vertical-align : middle;  background-color : cornflowerblue;">+/-</th>
                        </tr>
                    </thead>
                    <tbody>
                        @foreach (var item in (List<WebApplication1.Models.FTDenpyo_Calculate>)ViewBag.Denpyo_Calculates)
                        {

                            <tr class="text-center">
                                @*<td style="vertical-align : middle;">@item.PKGName</td>*@
                                <td class="@item.TextColor" style="vertical-align : middle;"><b>@item.FTDevice</b></td>
                                @if (@item.FL_Calculate == 0)
                                {
                                    <td></td>
                                }
                                else
                                {
                                    <td style="font-size:smaller; vertical-align : middle; color : blue;">@item.FL_Calculate.ToString("0.0") H<p style=" color : black">@item.FL_Lot Lot.</p></td>
                                }
                                @if (@item.A1_Calculate == 0 && item.A1_Hold == 0)
                                {
                                    <td></td>
                                }
                                else
                                {
                                    if (item.SetOnMcA1 == true)
                                    {
                                        if (item.A1_Hold != 0)
                                        {
                                            <td style="font-size:smaller; vertical-align : middle; color : blue; background-color :#CD5C5C; border-color : #42BA53; border-width : 2px;">@item.A1_Calculate.ToString("0.0") H<p style=" color : black">@item.A1_Hold/@item.A1_Sum Lot.</p></td>
                                        }
                                        else
                                        {
                                            <td style="font-size:smaller; vertical-align : middle; color : blue; border-color : #42BA53; border-width : 2px;">@item.A1_Calculate.ToString("0.0") H<p style=" color : black">@item.A1_Lot Lot.</p></td>
                                        }
                                    }
                                    else
                                    {
                                        if (item.A1_Hold != 0)
                                        {
                                            <td style="font-size:smaller; vertical-align : middle; background-color :#CD5C5C; color : blue;"> @item.A1_Calculate.ToString("0.0") H < p style = " color : black" > @item.A1_Hold / @item.A1_Sum Lot.</ p ></td>
                                        }
                                        else
                                        {
                                            <td style="font-size:smaller; vertical-align : middle; color : blue;"> @item.A1_Calculate.ToString("0.0") H <p style = " color : black" > @item.A1_Lot Lot.</p ></td>
                                        }

                                    }
                                }
                                @if (@item.A2_Calculate == 0 && item.A2_Hold == 0)
                                {
                                    <td></td>
                                }
                                else
                                {
                                    if (item.SetOnMcA2 == true)
                                    {
                                        if (item.A2_Hold != 0)
                                        {
                                            <td style="font-size:smaller; vertical-align : middle; color : blue; background-color :#CD5C5C; border-color : #42BA53; border-width : 2px;">@item.A2_Calculate.ToString("0.0") H<p style=" color : black">@item.A2_Hold/@item.A2_Sum Lot.</p></td>
                                        }
                                        else
                                        {
                                            <td style="font-size:smaller; vertical-align : middle; color : blue; border-color : #42BA53; border-width : 2px;">@item.A2_Calculate.ToString("0.0") H<p style=" color : black">@item.A2_Lot Lot.</p></td>
                                        }
                                    }
                                    else
                                    {
                                        if (item.A2_Hold != 0)
                                        {
                                            <td style="font-size:smaller; vertical-align : middle; background-color :#CD5C5C; color : blue;">@item.A2_Calculate.ToString("0.0") H<p style=" color : black">@item.A2_Hold/@item.A2_Sum Lot.</p></td>
                                        }
                                        else
                                        {
                                            <td style="font-size:smaller; vertical-align : middle; color : blue;">@item.A2_Calculate.ToString("0.0") H<p style=" color : black">@item.A2_Lot Lot.</p></td>
                                        }
                                    }
                                }
                                @if (@item.A3_Calculate == 0)
                                {
                                    <td></td>
                                }
                                else
                                {
                                    @*if (item.SetOnMcA3 == true)
                                        {
                                            <td style="font-size:smaller; vertical-align : middle; color : blue; border-color : #42BA53; border-width : 2px;">@item.A3_Calculate.ToString("0.0") H<p style=" color : black">@item.A3_Lot Lot.</p></td>
                                        }
                                        else
                                        {
                                            <td style="font-size:smaller; vertical-align : middle; color : blue;">@item.A3_Calculate.ToString("0.0") H<p style=" color : black">@item.A3_Lot Lot.</p></td>
                                        }*@
                                    if (item.SetOnMcA3 == true)
                                    {
                                        if (item.A3_Hold != 0)
                                        {
                                            <td style="font-size:smaller; vertical-align : middle; color : blue; background-color :#CD5C5C; border-color : #42BA53; border-width : 2px;">@item.A3_Calculate.ToString("0.0") H<p style=" color : black">@item.A3_Hold/@item.A3_Sum Lot.</p></td>
                                        }
                                        else
                                        {
                                            <td style="font-size:smaller; vertical-align : middle; color : blue; border-color : #42BA53; border-width : 2px;">@item.A3_Calculate.ToString("0.0") H<p style=" color : black">@item.A3_Lot Lot.</p></td>
                                        }
                                    }
                                    else
                                    {
                                        if (item.A3_Hold != 0)
                                        {
                                            <td style="font-size:smaller; vertical-align : middle; background-color :#CD5C5C; color : blue;">@item.A3_Calculate.ToString("0.0") H<p style=" color : black">@item.A3_Hold/@item.A3_Sum Lot.</p></td>
                                        }
                                        else
                                        {
                                            <td style="font-size:smaller; vertical-align : middle; color : blue;">@item.A3_Calculate.ToString("0.0") H<p style=" color : black">@item.A3_Lot Lot.</p></td>
                                        }
                                    }
                                }
                                @if (@item.A4_Calculate == 0)
                                {
                                    <td></td>
                                }
                                else
                                {
                                    if (item.SetOnMcA4 == true)
                                    {
                                        if (item.A4_Hold != 0)
                                        {
                                            <td style="font-size:smaller; vertical-align : middle; color : blue; background-color :#CD5C5C; border-color : #42BA53; border-width : 2px;">@item.A4_Calculate.ToString("0.0") H<p style=" color : black">@item.A4_Hold/@item.A4_Sum Lot.</p></td>
                                        }
                                        else
                                        {
                                            <td style="font-size:smaller; vertical-align : middle; color : blue; border-color : #42BA53; border-width : 2px;">@item.A4_Calculate.ToString("0.0") H<p style=" color : black">@item.A4_Lot Lot.</p></td>
                                        }
                                    }
                                    else
                                    {
                                        if (item.A4_Hold != 0)
                                        {
                                            <td style="font-size:smaller; vertical-align : middle; background-color :#CD5C5C; color : blue;">@item.A4_Calculate.ToString("0.0") H<p style=" color : black">@item.A4_Hold/@item.A4_Sum Lot.</p></td>
                                        }
                                        else
                                        {
                                            <td style="font-size:smaller; vertical-align : middle; color : blue;">@item.A4_Calculate.ToString("0.0") H<p style=" color : black">@item.A4_Lot Lot.</p></td>
                                        }
                                    }
                                }
                                <td style="font-size:smaller; vertical-align : middle; vertical-align : middle;">Y  @item.Plan_yesterday.ToString("0")<br />T @item.Plan_today.ToString("0")</td>
                                <td style="font-size:smaller; vertical-align : middle;vertical-align : middle;"> @item.Result_yesterday.ToString("0")<br /> @item.Result_today.ToString("0")</td>
                                <td style="font-size:smaller; vertical-align : middle;vertical-align : middle;"> @item.Calulate_yesterday.ToString("0")<br /> @item.Calulate_today.ToString("0")</td>
                            </tr>
                        }
                    </tbody>
                </table>
            </div>


        </div>
    </div>
    @*--------------modal-------------------*@
    <div class="modal fade" id="exampleModal" tabindex="-1" role="dialog" aria-labelledby="exampleModalLabel" aria-hidden="true" align="center">
        <div class="modal-dialog-centered" role="document" style="width : 300px;">
            <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title" id="exampleModalLabel">Type Change Setup</h5>
                    <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                        <span aria-hidden="true">&times;</span>
                    </button>
                </div>
                <div class="modal-body">
                    <form>
                        <div class="form-group">
                            @*<label for="recipient-name" class="col-form-label">MC Name:</label>*@
                            <input type="hidden" class="form-control" id="MCName">
                            <input type="hidden" class="form-control" id="McId">
                            <input type="hidden" class="form-control" id="Device">
                        </div>
                        <div class="form-group">
                            <label for="recipient-name" class="col-form-label">Change after(Lot.):</label>
                            <input type="text" class="form-control" id="Sequence">
                            <label for="recipient-name" class="col-form-label">Type Change Device:</label>
                            @Html.DropDownList("DeviceName", ViewBag.devicefilter as SelectList, "All", new { @class = "form-control", @id = "DeviceChange" })

                            @*<input type="text" class="form-control" id="DeviceChange">*@
                        </div>
                    </form>
                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-secondary" data-dismiss="modal">Close</button>
                    <button type="button" class="btn btn-secondary" style="background-color : #F38080; color : white;" id="canceltypechange">Cancel</button>
                    <button type="button" class="btn btn-primary" id="savetypechange">Save</button>
                </div>
            </div>
        </div>
    </div>
    <div class="modal fade" id="OpRateModal" tabindex="-1" role="dialog" aria-labelledby="exampleModalLabel" aria-hidden="true" align="center">
        <div class="modal-dialog-centered" role="document" style="width : 300px;">
            <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title" id="exampleModalLabel">OP Rate Setup</h5>
                    <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                        <span aria-hidden="true">&times;</span>
                    </button>
                </div>
                <div class="modal-body">
                    <form>
                        <div class="form-group">
                            <input type="hidden" class="form-control" id="McId">
                        </div>
                        <div class="form-group">
                            <label for="recipient-name" class="col-form-label">OP Rate(%):</label>
                            <input type="number" class="form-control" id="OpRate">
                            @*<label for="recipient-name" class="col-form-label">Type Change Device:</label>*@
                            @*@Html.DropDownList("DeviceName", ViewBag.devicefilter as SelectList, "All", new { @class = "form-control", @id = "DeviceChange" })*@

                            @*<input type="text" class="form-control" id="DeviceChange">*@
                        </div>
                    </form>
                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-secondary" data-dismiss="modal">Close</button>
                    @*<button type="button" class="btn btn-secondary" style="background-color : #F38080; color : white;" id="canceltypechange">Cancel</button>*@
                    <button type="button" class="btn btn-primary" id="insertoprate">Save</button>
                </div>
            </div>
        </div>
    </div>
    <div class="modal fade" id="OpRateSet" tabindex="-1" role="dialog" aria-labelledby="exampleModalLabel" aria-hidden="true" align="center">
        <div class="modal-dialog-centered" role="document" style="width : 300px;">
            <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title" id="exampleModalLabel">OP Rate Setup</h5>
                    <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                        <span aria-hidden="true">&times;</span>
                    </button>
                </div>
                <div class="modal-body">
                    <form>
                        <div class="form-group">
                            @*<input type="hidden" class="form-control" id="McId">*@
                            <input type="hidden" class="form-control" id="GroupId">
                        </div>
                        <div class="form-group">
                            <label for="recipient-name" class="col-form-label">OP Rate(%):</label>
                            <input type="number" class="form-control" id="OpRateA">
                            @*<label for="recipient-name" class="col-form-label">Type Change Device:</label>*@
                            @*@Html.DropDownList("DeviceName", ViewBag.devicefilter as SelectList, "All", new { @class = "form-control", @id = "DeviceChange" })*@

                            @*<input type="text" class="form-control" id="DeviceChange">*@
                        </div>
                    </form>
                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-secondary" data-dismiss="modal">Close</button>
                    @*<button type="button" class="btn btn-secondary" style="background-color : #F38080; color : white;" id="canceltypechange">Cancel</button>*@
                    <button type="button" class="btn btn-primary" id="oprate">Save</button>
                </div>
            </div>
        </div>
    </div>
</div>



<link href="~/Scripts/bootstrap.min.css" rel="stylesheet" />
<link href="~/Scripts/dataTables.bootstrap.min.css" rel="stylesheet" />
<link href="~/Content/select2.min.css" rel="stylesheet" />
<link href="~/Content/toggle/bootstrap4-toggle.min.css" rel="stylesheet" />
@section Scripts
{
    <script src="~/Scripts/datatables.min.js"></script>
    <script src="~/Scripts/select2.min.js"></script>
    <script src="~/Scripts/toggle/bootstrap4-toggle.min.js"></script>
    <script src="~/Scripts/highcharts.js"></script>
    <script src="~/Scripts/exporting.js"></script>
    <script src="~/Scripts/export-data.js"></script>
    <script>

            $(".sendData").click(function () {
                console.log("OK");

                var mcno = $(this).data('mcno');
                var mcid = $(this).data('mcid');
                var sequence = $(this).data('sequence');
                var device = $(this).data('device');

                console.log(mcno);
                console.log(mcid);
                console.log(sequence);
                console.log(device);

                $("#McId").val(mcid);
                $("#MCName").val(mcno);
                $("#Device").val(device);
                $("#Sequence").val(sequence);
            });

            $("#savetypechange").click(function () {
                var mcno = $("#MCName").val();
                var mcid = $("#McId").val();
                var sequence = $("#Sequence").val();
                var device = $("#Device").val();
                var deviceChange = $("#DeviceChange").val();

                console.log(mcno);
                console.log(mcid);
                console.log(sequence);
                console.log(device);

            $.ajax({
                type: "GET",
                 url: '@Url.Action("SaveTypeChange", "Home")',
                data: {
                    'McNo': mcno,
                    'McId': mcid,
                    'Sequence': sequence,
                    'Device': device,
                    'DeviceChange': deviceChange

                },
                contentType: "application/json; charset=utf-8",
                dataType: "html",
                success: function (data) {
                    console.log(data);
                    //$('#myModal').hide();
                    location.reload();
                },
                error: function (data, status, jqXHR) {
                    alert(jqXHR);
                }
            });
            });
            $("#canceltypechange").click(function () {
                var mcno = $("#MCName").val();
                var mcid = $("#McId").val();
                console.log(mcno);

            $.ajax({
                type: "GET",
                 url: '@Url.Action("CancelTypeChange", "Home")',
                data: {
                    'McNo': mcno,
                    'McId': mcid

                },
                contentType: "application/json; charset=utf-8",
                dataType: "html",
                success: function (data) {
                    console.log(data);
                    //$('#myModal').hide();
                    location.reload();
                },
                error: function (data, status, jqXHR) {
                    alert(jqXHR);
                }
            });
        });
    </script>
    <script>
//OPRate
            $(".sendOprate").click(function () {
                console.log("OK");

                var mcid = $(this).data('mcid');

                console.log(mcid);

                $("#McId").val(mcid);
            });

            $(".sendOprateGroup").click(function () {
                console.log("OK");

                var groupid = $(this).data('groupid');

                console.log(groupid);

                $("#GroupId").val(groupid);
            });

            $("#insertoprate").click(function () {

                var mcid = $("#McId").val();
                var oprate = $("#OpRate").val();

                console.log(mcid);
                console.log(oprate);

            $.ajax({
                type: "GET",
                 url: '@Url.Action("InsertOPRate", "Home")',
                data: {
                    'McId': mcid,
                    'OpRate': oprate,

                },
                contentType: "application/json; charset=utf-8",
                dataType: "html",
                success: function (data) {
                    console.log(data);
                    $('#OpRateModal').hide();
                    location.reload();
                },
                error: function (data, status, jqXHR) {
                    alert(jqXHR);
                }
            });
            });

            $("#oprate").click(function () {

                var groupid = $("#GroupId").val();
                var oprate = $("#OpRateA").val();

                console.log(groupid);
                console.log(oprate);
                console.log("Ok");
            $.ajax({
                type: "GET",
                 url: '@Url.Action("InsertOPRateGroup", "Home")',
                data: {
                    'GroupId': groupid,
                    'OpRate': oprate,

                },
                contentType: "application/json; charset=utf-8",
                dataType: "html",
                success: function (data) {
                    //console.log(data);
                    $('#OpRateSet').hide();
                    location.reload();
                },
                error: function (data, status, jqXHR) {
                    alert(jqXHR);
                }
            });
            });
    </script>

    <script>
        $(document).ready(function () {
            $('#iTable').DataTable({
                "ordering": true,
                "order": [[5, "asc"]],
                "pageLength": 50,
                "filter": true,
                "bFilter": false,
                "bLengthChange": false,
                "scrollCollapse": true,
                "scrollY": "800px",
                "scrollX": true,
            });
        });
        $(document).ready(function () {
            $('#WIPTable').DataTable({
                "ordering": true,
                "pageLength": 8,
                "filter": true,
                "bFilter": false,
                "bLengthChange": false,
                "scrollCollapse": true,
                "scrollY": "400px",
                "scrollX": true,
            });
        });

        $(document).ready(function () {
            //$('#process').select2();
            //$('#package').select2();
            //$('#packgegroup').select2();
            $('#device').select2();
        });
    </script>
    <script>
        $(document).ready(function () {
            $(".nav-tabs a").click(function () {
                $(this).tab('show');
            });

        });
    </script>



    <script language="javascript">
        function strauto() {
            var text = document.getElementById('lot').value;
            var str = new String(text);
            var str = str.toUpperCase();
            document.getElementById('lot').value = str;
        }
    </script>

    <script>

        Highcharts.chart('container', {
  chart: {
    type: 'column'
  },
  title: {
    text: 'FT WIP Data SSOP-B20W'
  },
  xAxis: {
    categories: ['FL','AUTO1', 'AUTO2', 'AUTO3', 'AUTO4']
  },
  yAxis: {
    min: 0,
    title: {
      text: 'Quantity (Lot.)'
    },
    stackLabels: {
      enabled: true,
      style: {
        fontWeight: 'bold',
        color: (Highcharts.theme && Highcharts.theme.textColor) || 'gray'
      }
    }
  },
  //legend: {
  //  align: 'right',
  //  x: -30,
  //  verticalAlign: 'top',
  //  y: 25,
  //  floating: true,
  //  backgroundColor: (Highcharts.theme && Highcharts.theme.background2) || 'white',
  //  borderColor: '#CCC',
  //  borderWidth: 1,
  //  shadow: false
  //},
  tooltip: {
    headerFormat: '<b>{point.x}</b><br/>',
    pointFormat: '{series.name}:{point.y} Lot. <br/>Total:{point.stackTotal} Lot.<br/>'
  },
  plotOptions: {
    column: {
      stacking: 'normal',
      dataLabels: {
        enabled: true,
        color: (Highcharts.theme && Highcharts.theme.dataLabelsColor)|| 'white'
      }
    }
  },
            series: [ @Html.Raw(ViewBag.lstFlow)
                {
                    name: 'Limit',
                    type: 'line',
                    color: '#FF0000',
                    lineWidth: 0,
                    data: [0,24, 18, 18, 25],
                    marker: {
                        enabled: true,
                        radius: 6,
                        symbol: 'circle'
                    },
                    states: {
                        hover: {
                            lineWidthPlus: 0
                        }
                    },
                }]

        });

    </script>


    <script>

            Highcharts.chart('container2', {
  chart: {
    type: 'column'
  },
  title: {
    text: 'FT WIP Data SSOP-B20W'
  },
  xAxis: {
    categories: ['FL','AUTO1', 'AUTO2', 'AUTO3', 'AUTO4']
  },
  yAxis: {
    min: 0,
    title: {
      text: 'Quantity (Kpcs.)'
    },
    stackLabels: {
      enabled: true,
      style: {
        fontWeight: 'bold',
        color: (Highcharts.theme && Highcharts.theme.textColor) || 'gray'
      }
    }
  },
  //legend: {
  //  align: 'right',
  //  x: -30,
  //  verticalAlign: 'top',
  //  y: 25,
  //  floating: true,
  //  backgroundColor: (Highcharts.theme && Highcharts.theme.background2) || 'white',
  //  borderColor: '#CCC',
  //  borderWidth: 1,
  //  shadow: false
  //},
  tooltip: {
    headerFormat: '<b>{point.x} </b><br/>',
    pointFormat: '{series.name}:{point.y} Kpcs.<br/>Total:{point.stackTotal} Kpcs.<br/>'
  },
  plotOptions: {
    column: {
      stacking: 'normal',
      dataLabels: {
        enabled: true,
        color: (Highcharts.theme && Highcharts.theme.dataLabelsColor)|| 'white'
      }
    }
  },
  series: [ @Html.Raw(ViewBag.chartKpcs)]
            });
    </script>

    <script>

            Highcharts.chart('HourChart', {
  chart: {
    type: 'column'
  },
  title: {
    text: 'FT WIP Data SSOP-B20W'
  },
  xAxis: {
    categories: ['FL','AUTO1', 'AUTO2', 'AUTO3', 'AUTO4']
  },
  yAxis: {
    min: 0,
    title: {
      text: 'Lead Time (Hour.)'
    },
    stackLabels: {
      enabled: true,
      style: {
        fontWeight: 'bold',
        color: (Highcharts.theme && Highcharts.theme.textColor) || 'gray'
      }
    }
  },
  //legend: {
  //  align: 'right',
  //  x: -30,
  //  verticalAlign: 'top',
  //  y: 25,
  //  floating: true,
  //  backgroundColor: (Highcharts.theme && Highcharts.theme.background2) || 'white',
  //  borderColor: '#CCC',
  //  borderWidth: 1,
  //  shadow: false
  //},
  tooltip: {
    headerFormat: '<b>{point.x} </b><br/>',
    pointFormat: '{series.name}:{point.y} Hour.<br/>Total:{point.stackTotal} Hour.<br/>'
  },
  plotOptions: {
    column: {
      stacking: 'normal',
      dataLabels: {
        enabled: true,
        color: (Highcharts.theme && Highcharts.theme.dataLabelsColor)|| 'white'
      }
    }
  },
                series: [ @Html.Raw(ViewBag.HourChart)
                    {
                    name: 'Limit(Hour)',
                    type: 'line',
                    color: '#FF0000',
                    lineWidth: 0,
                    data: [0,48.9, 62.4, 72.9, 97.2],
                    marker: {
                        enabled: true,
                        radius: 6,
                        symbol: 'circle'
                    },
                    states: {
                        hover: {
                            lineWidthPlus: 0
                        }
                    },
                }]
            });
    </script>
}
