@model IEnumerable<WebApplication1.Models.FTSetup>

@{
    ViewBag.Title = "FT Scheduler";
}
<link href="~/Content/Site.css" rel="stylesheet" />
<style>
    table tr:not([class="OfflineStep"]):not([class="FurtherStep"]):hover td,
    table tr:not([class="OfflineStep"]):not([class="FurtherStep"]):hover td a {
        color: white;
        font: bold;
        background-color: lightblue !important; /**/
    }

    .col-md-1 {
        margin-top: 10px;
    }

    .td {
        text-align: center;
        color: red;
    }

    .H2 {
        font-family: 'Kanit', sans-serif;
        color: goldenrod;
    }
    .A1 {
        color: #FFA500;
        font : bold;
    }
    .A2 {
        color: #FF1493;
        font : bold;
    }
    .A3 {
        color: #DC143C ;
        font : bold;
    }
    .A4 {
        color: #9400D3;
        font : bold;
    }
    .A5 {
        color: #FFA500;
        font : bold;
    }
    .A6 {
        color: #B8860B;
        font : bold;
    }
    .A7 {
        color: #008000;
        font : bold;
    }
    .A8 {
        color: 	#1E90FF;
        font : bold;
    }
</style>
<h1>FT SCHEDULER</h1>

@*<p>
        @Html.ActionLink("Create New", "Create")
    </p>*@
<table id="iTable" class="table table-striped table-condensed table-bordered">
    <thead>
        <tr>
            <th class=" text-center" style=" vertical-align : middle; background-color :#8dcffd;" rowspan="2">PKG</th>
            <th class=" text-center" style=" vertical-align : middle; background-color :#8dcffd;" rowspan="2">MC_No.</th>
            <th class=" text-center" style=" vertical-align : middle; background-color :#8dcffd;" rowspan="2">Tester</th>
            <th class=" text-center" style=" vertical-align : middle; background-color :#FFBE7D;" rowspan="2">Test_Board</th>
            <th class=" text-center" style=" vertical-align : middle; background-color :#FFBE7D;" rowspan="2">DUT</th>
            <th class=" text-center" style=" vertical-align : middle; background-color :#FFBE7D;" rowspan="2">Flow</th>
            <th class=" text-center" style=" vertical-align : middle; background-color :#FFBE7D;" rowspan="2">TEST Program</th>
            <th class=" text-center" style=" vertical-align : middle; background-color :#FFBE7D;" rowspan="2">Temp.(°C)</th>
            <th class=" text-center" style=" vertical-align : middle; background-color :#FFBE7D;" colspan="2">Option</th>
            <th class=" text-center" style=" vertical-align : middle; background-color :#8e84ce;" rowspan="2">Status</th>
            <th class=" text-center" style=" vertical-align : middle; background-color :#96d677;" colspan="2">Production</th>
            <th class=" text-center" style=" vertical-align : middle; background-color :#96d677;" colspan="1">2nd Lot</th>
            <th class=" text-center" style=" vertical-align : middle; background-color :#96d677;" colspan="1">3rd Lot</th>
            <th class=" text-center" style=" vertical-align : middle; background-color :#96d677;" colspan="1">4th Lot</th>
            <th class=" text-center" style=" vertical-align : middle; background-color :#96d677;" colspan="1">5th Lot</th>
            <th class=" text-center" style=" vertical-align : middle; background-color :#96d677;" colspan="1">6th Lot</th>
            <th class=" text-center" style=" vertical-align : middle; background-color :#96d677;" colspan="1">7th Lot</th>
            <th class=" text-center" style=" vertical-align : middle; background-color :#96d677;" colspan="1">8th Lot</th>
            <th class=" text-center" style=" vertical-align : middle; background-color :#96d677;" colspan="1">9th Lot</th>
            <th class=" text-center" style=" vertical-align : middle; background-color :#96d677;" colspan="1">10th Lot</th>
        </tr>
        <tr>
            <th class=" text-center" style="font-size : 20px; vertical-align : middle; background-color :#FFBE7D;">➀</th>
            <th class=" text-center" style="font-size : 20px; vertical-align : middle; background-color :#FFBE7D;">➁</th>
            <th class=" text-center" style=" vertical-align : middle; background-color :#96d677;">Lot_Card</th>
            <th class=" text-center" style=" vertical-align : middle; background-color :#96d677;">END</th>
            <th class=" text-center" style=" vertical-align : middle; background-color :#96d677;">Lot_Card</th>
            <th class=" text-center" style=" vertical-align : middle; background-color :#96d677;">Lot_Card</th>
            <th class=" text-center" style=" vertical-align : middle; background-color :#96d677;">Lot_Card</th>
            <th class=" text-center" style=" vertical-align : middle; background-color :#96d677;">Lot_Card</th>
            <th class=" text-center" style=" vertical-align : middle; background-color :#96d677;">Lot_Card</th>
            <th class=" text-center" style=" vertical-align : middle; background-color :#96d677;">Lot_Card</th>
            <th class=" text-center" style=" vertical-align : middle; background-color :#96d677;">Lot_Card</th>
            <th class=" text-center" style=" vertical-align : middle; background-color :#96d677;">Lot_Card</th>
            <th class=" text-center" style=" vertical-align : middle; background-color :#96d677;">Lot_Card</th>
            @*<th></th>*@
        </tr>
    </thead>
    <tbody>
        @foreach (var item in Model)
        {
        <tr style="height :30px">
            <td class="text-center" style="vertical-align : middle; width : 120px;">
                @Html.DisplayFor(modelItem => item.PKName)
            </td>
            <td class="text-center" style="vertical-align : middle; width : 120px;">
                @*border-right-color : blue; border-left-color:blue;*@
                @Html.DisplayFor(modelItem => item.MCNo)
            </td>
            <td class="text-center" style="vertical-align : middle; width : 125px;">
                @Html.DisplayFor(modelItem => item.TesterType)
            </td>
            <td class="text-center" style="font-size:smaller; vertical-align : middle; width : 30px;">
                @Html.DisplayFor(modelItem => item.TestBord)
            </td>
            <td class="text-center" style=" font-size:smaller; vertical-align : middle; width : 20px;">
                @Html.DisplayFor(modelItem => item.DutName)
            </td>
            <td class="text-center" style="font-size:smaller; vertical-align : middle; width : 25px;">
                @Html.DisplayFor(modelItem => item.Flow)
            </td>
            <td class="text-center" style="font-size : smaller; vertical-align : middle; width : 30px;">
                @Html.DisplayFor(modelItem => item.TestProgram)
            </td>

            @switch (item.Flow)
            {
                case "AUTO1":
                    <td class=" text-center" style="font-size:smaller; color : cadetblue; font : bold; vertical-align : middle; width : 25px;">
                        -40
                    </td>
                    break;
                case "AUTO2":
                    <td class=" text-center" style="font-size:smaller; color : orangered; font : bold; vertical-align : middle; width : 25px;">
                        125
                    </td>
                    break;
                case "AUTO3":
                    <td class=" text-center " style="font-size:smaller;vertical-align : middle; width : 25px;">
                        25
                    </td>
                    break;
                case "AUTO4":

                    <td class=" text-center" style="font-size:smaller; color : orangered; font : bold; vertical-align : middle; width : 25px;">
                        125
                    </td>
                    break;
                default:
                    <td></td>
                    break;
            }


            <td class=" text-center" style="font-size : smaller; vertical-align : middle; width : 10px;">
                @Html.DisplayFor(modelItem => item.Option1)
            </td>
            <td class=" text-center" style="font-size : smaller; vertical-align : middle; width : 10px;">
                @Html.DisplayFor(modelItem => item.Option2)
            </td>
            @switch (item.Status)
            {
                case WebApplication1.Models.FTSetup.State.Wait:
                    <td class=" text-center" style="background-color : yellow; color: black; font : bold; vertical-align : middle; width : 15px;">
                        @Html.DisplayFor(modelItem => item.Status)
                    </td>
                    break;
                case WebApplication1.Models.FTSetup.State.Run:
                    <td class=" text-center" style="background-color : aquamarine ; color: black; font : bold; vertical-align : middle; width : 15px;">
                        @Html.DisplayFor(modelItem => item.Status)
                    </td>
                    break;
                case WebApplication1.Models.FTSetup.State.Ready:
                    <td class=" text-center" style="background-color : aquamarine ; color: black; font : bold; vertical-align : middle; width : 15px;">
                        @Html.DisplayFor(modelItem => item.Status)
                    </td>
                    break;
                case WebApplication1.Models.FTSetup.State.Setup:
                    <td class=" text-center" style="background-color : #009000; color: black; font : bold; vertical-align : middle; width : 15px;">
                        @Html.DisplayFor(modelItem => item.Status)
                    </td>
                    break;
                default:
                    <td rowspan="2"></td>
                    break;
            }
            @*<td class=" text-center " style="vertical-align : middle;">
            @Html.DisplayFor(modelItem => item.Status)
        </td>*@
            @if (item.Production_DelayLot == "0")
            {
                <td class="text-center" style="font-size:smaller; vertical-align : middle; width : 80px;">@Html.DisplayFor(modelItem => item.Production_LotNo)<br /><p class="@Html.DisplayFor(modelItem => item.Mc_Color)" style="font-size:10px;">@Html.DisplayFor(modelItem => item.Production_LotDevice)</p></td>
            }
            else
            {
                <td class="text-center" style="background-color : mediumpurple; font-size:smaller; vertical-align : middle; width : 80px;">@Html.DisplayFor(modelItem => item.Production_LotNo)<br /><p class="@Html.DisplayFor(modelItem => item.Mc_Color)" style="font-size:10px;">@Html.DisplayFor(modelItem => item.Production_LotDevice)</p></td>
            }
            @*@if (item.Production_Date == null)
        {
            <td class="text-center" style="font-size:smaller; vertical-align : middle; width : 50px;">@Html.DisplayFor(modelItem => item.Production_Date)</td>
        }
        else
        {*@
            @*string date = Convert.ToString( item.Production_Date);*@
            @if (DateTime.Now > item.Production_Date)
            {
                <td class="text-center" style="color : red; font-size:smaller;font : bold; vertical-align : middle; width : 50px;">
                    @Html.DisplayFor(modelItem => item.Production_Date)<br />
                    @Html.DisplayFor(modelItem => item.Production_Time)
                </td>
            }
            else
            {
                <td class="text-center" style="font-size:smaller; vertical-align : middle; width : 50px;">
                    @Html.DisplayFor(modelItem => item.Production_Date)<br />
                    @Html.DisplayFor(modelItem => item.Production_Time)
                </td>
            }




            <td class="text-center" style="font-size:smaller; vertical-align : middle; width : 80px;">@Html.DisplayFor(modelItem => item.LotQueue[0].Lot_no)<br /><p class="@Html.DisplayFor(modelItem => item.LotQueue[0].S_Color)" style="font-size:10px;">@Html.DisplayFor(modelItem => item.LotQueue[0].DeviceName)</p></td>
            <td class="text-center" style="font-size:smaller; vertical-align : middle; width : 80px;">@Html.DisplayFor(modelItem => item.LotQueue[1].Lot_no)<br /><p class="@Html.DisplayFor(modelItem => item.LotQueue[1].S_Color)" style="font-size:10px;">@Html.DisplayFor(modelItem => item.LotQueue[1].DeviceName)</p></td>
            <td class="text-center" style="font-size:smaller; vertical-align : middle; width : 80px;">@Html.DisplayFor(modelItem => item.LotQueue[2].Lot_no)<br /><p class="@Html.DisplayFor(modelItem => item.LotQueue[2].S_Color)" style="font-size:10px;">@Html.DisplayFor(modelItem => item.LotQueue[2].DeviceName)</p></td>
            <td class="text-center" style="font-size:smaller; vertical-align : middle; width : 80px;">@Html.DisplayFor(modelItem => item.LotQueue[3].Lot_no)<br /><p class="@Html.DisplayFor(modelItem => item.LotQueue[3].S_Color)" style="font-size:10px;">@Html.DisplayFor(modelItem => item.LotQueue[3].DeviceName)</p></td>
            <td class="text-center" style="font-size:smaller; vertical-align : middle; width : 80px;">@Html.DisplayFor(modelItem => item.LotQueue[4].Lot_no)<br /><p class="@Html.DisplayFor(modelItem => item.LotQueue[4].S_Color)" style="font-size:10px;">@Html.DisplayFor(modelItem => item.LotQueue[4].DeviceName)</p></td>
            <td class="text-center" style="font-size:smaller; vertical-align : middle; width : 80px;">@Html.DisplayFor(modelItem => item.LotQueue[5].Lot_no)<br /><p class="@Html.DisplayFor(modelItem => item.LotQueue[5].S_Color)" style="font-size:10px;">@Html.DisplayFor(modelItem => item.LotQueue[5].DeviceName)</p></td>
            <td class="text-center" style="font-size:smaller; vertical-align : middle; width : 80px;">@Html.DisplayFor(modelItem => item.LotQueue[6].Lot_no)<br /><p class="@Html.DisplayFor(modelItem => item.LotQueue[6].S_Color)" style="font-size:10px;">@Html.DisplayFor(modelItem => item.LotQueue[6].DeviceName)</p></td>
            <td class="text-center" style="font-size:smaller; vertical-align : middle; width : 80px;">@Html.DisplayFor(modelItem => item.LotQueue[7].Lot_no)<br /><p class="@Html.DisplayFor(modelItem => item.LotQueue[7].S_Color)" style="font-size:10px;">@Html.DisplayFor(modelItem => item.LotQueue[7].DeviceName)</p></td>
            <td class="text-center" style="font-size:smaller; vertical-align : middle; width : 80px;">@Html.DisplayFor(modelItem => item.LotQueue[8].Lot_no)<br /><p class="@Html.DisplayFor(modelItem => item.LotQueue[8].S_Color)" style="font-size:10px;">@Html.DisplayFor(modelItem => item.LotQueue[8].DeviceName)</p></td>

            <td>
                @*@Html.ActionLink("Edit", "Edit", new { /* id=item.PrimaryKey */ }) |
                @Html.ActionLink("Details", "Details", new { /* id=item.PrimaryKey */ }) |
                @Html.ActionLink("Delete", "Delete", new { /* id=item.PrimaryKey */ })*@
            @*  <td class="text-center" style="font-size:smaller; vertical-align : middle; width : 80px;">@Html.DisplayFor(modelItem => item.LotOutPlan[0].DeviceName)<br /><p class="@Html.DisplayFor(modelItem => item.LotQueue[8].S_Color)" style="font-size:10px;">@Html.DisplayFor(modelItem => item.LotOutPlan[0].JobName)</p></td>*@
            </td>
        </tr>
        }
    </tbody>
</table>

<table class="table table-striped table-condensed table-bordered">
    <tr>
        <th> AUTO1 </th>
        <th> AUTO2 </th>
        <th> AUTO3 </th>
        <th> AUTO4 </th>
    </tr>

    @foreach (var item in Model)
    {
        <tr>
            @*if (item.LotOutPlan.Count() != 0)
            {
            <td>@Html.DisplayFor(x => item.LotOutPlan[0].DeviceName) </td>
            <td></td>
            <td></td>
            <td></td>*@
            }
        </tr>
    }


</table>

<link rel="stylesheet" type="text/css" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css" />
<link rel="stylesheet" type="text/css" href="https://cdn.datatables.net/1.10.19/css/dataTables.bootstrap.min.css" />
<link href="~/Content/select2.min.css" rel="stylesheet" />

@section Scripts
{
    <script type="text/javascript" src="https://code.jquery.com/jquery-3.3.1.js"></script>
    <script type="text/javascript" src="https://cdn.datatables.net/1.10.19/js/jquery.dataTables.min.js"></script>
    <script type="text/javascript" src="https://cdn.datatables.net/1.10.19/js/dataTables.bootstrap.min.js"></script>
    <script type="text/javascript" src="https://cdn.datatables.net/plug-ins/1.10.19/i18n/Thai.json"></script>
    <link href="~/Scripts/datatable/dataTables.bootstrap.css" rel="stylesheet" />

    <script>
        $(document).ready(function () {
            $('#iTable').DataTable({
                "ordering": true,
                "pageLength": 50,
                "filter": false,
                "bFilter": true,
                "bLengthChange": false,
                "scrollCollapse": true,
                "scrollY": "650px",
            });
        });

        //$(document).ready(function () {
        //    $('#process').select2();
        //    $('#package').select2();
        //    $('#packgegroup').select2();
        //    $('#device').select2();
        //});
    </script>

    <script language="javascript">
        function strauto() {
            var text = document.getElementById('lot').value;
            var str = new String(text);
            var str = str.toUpperCase();
            document.getElementById('lot').value = str;
        }
    </script>
}
